{"version":3,"sources":["AuthPage/component/Form/index.js"],"names":["ToggleSwitch","React","lazy","Form","props","validate","name","value","length","className","style","position","right","top","src","title","alt","handleUserInput","e","setState","errors","state","target","fields","handleSubmit","preventDefault","validationErrors","Object","keys","forEach","error","password","mobile","data","window","alert","JSON","stringify","this","onSubmit","type","mask","autoComplete","format","onChange","event","placeholder","required","color","fallback","href","onClick","disabled","Component"],"mappings":"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","file":"static/js/5.bf2b9323.chunk.js","sourcesContent":["import \"./index.scss\";\nimport React, { Suspense } from \"react\";\nimport NumberFormat from \"react-number-format\";\nconst ToggleSwitch = React.lazy(() => import(\"./SwitchButton/index\"));\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fields: {\n        password: \"\",\n        mobile: \"\",\n      },\n      errors: {\n        password: \"\",\n        mobile: \"\",\n      },\n    };\n  }\n\n  validate = (name, value) => {\n    switch (name) {\n      case \"mobile\":\n        if (value.length !== 19) {\n          return (\n            <label\n              className=\"formAuth__labelStyle\"\n              style={{\n                position: \"absolute\",\n                right: \"5px\",\n                top: \"15px\",\n              }}\n            >\n              <img\n                src=\"https://svgshare.com/i/Sx_.svg\"\n                title=\"alert\"\n                alt=\"alert\"\n              />\n            </label>\n          );\n        }\n        return (\n          <label\n            className=\"formAuth__labelStyle\"\n            style={{\n              position: \"absolute\",\n              right: \"5px\",\n              top: \"20px\",\n            }}\n          >\n            <img\n              src=\"https://svgshare.com/i/Svr.svg\"\n              title=\"success\"\n              alt=\"success\"\n            />\n          </label>\n        );\n\n      case \"password\":\n        if (value.length < 5) {\n          return \"Введите не менее 5 символов\";\n        }\n        return \"\";\n\n      default: {\n        return \"\";\n      }\n    }\n  };\n\n  handleUserInput = (e) => {\n    this.setState({\n      errors: {\n        ...this.state.errors,\n        [e.target.name]: this.validate(e.target.name, e.target.value),\n      },\n      fields: {\n        ...this.state.fields,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  handleSubmit = (e) => {\n    const { fields } = this.state;\n    e.preventDefault();\n    let validationErrors = {};\n    Object.keys(fields).forEach((name) => {\n      const error = this.validate(name, fields[name]);\n      if (error && error.length > 0) {\n        validationErrors[name] = error;\n      }\n    });\n    if (Object.keys(validationErrors).length > 0) {\n      this.setState({ errors: validationErrors });\n      return;\n    }\n    if (fields.password && fields.mobile) {\n      const data = {\n        password: fields.password,\n        mobile: fields.mobile,\n      };\n\n      window.alert(\"submit success\", JSON.stringify(data));\n\n      this.setState({\n        fields: {\n          password: \"\",\n          mobile: \"\",\n        },\n      });\n    }\n  };\n\n  render() {\n    const { fields, errors } = this.state;\n\n    return (\n      <>\n        <form className=\"formAuth\" onSubmit={this.handleSubmit}>\n          <NumberFormat\n            className={\n              fields.mobile.length !== 19\n                ? \"formAuth__inputStyle formAuth__inputStyle--active\"\n                : \"formAuth__inputStyle\"\n            }\n            name=\"mobile\"\n            type=\"tel\"\n            mask=\" . \"\n            autoComplete=\"off\"\n            format=\"8 ( ### ) ###-##-##\"\n            value={fields.mobile}\n            onChange={(event) => this.handleUserInput(event)}\n            placeholder=\"Номер телефона\"\n            required\n            style={\n              fields.mobile.length !== 19 && fields.mobile.length !== 0\n                ? {\n                    color: \"#B40000\",\n                  }\n                : {\n                    color: \"\",\n                  }\n            }\n          />\n          {errors.mobile}\n          <input\n            className={\n              errors.password\n                ? \"formAuth__inputStyle formAuth__inputStyle--active\"\n                : \"formAuth__inputStyle\"\n            }\n            type=\"password\"\n            autoComplete=\"off\"\n            name=\"password\"\n            value={fields.password}\n            onChange={(event) => this.handleUserInput(event)}\n            placeholder=\"Пароль\"\n            required\n            style={errors.password ? { color: \"black\" } : { color: \"\" }}\n          />\n          <div className=\"formAuth__errorsText\">{errors.password}</div>\n          <div className=\"formAuth__toggle formAuth__forgotPassword\">\n            <Suspense fallback={<div>Loading...</div>}>\n              <ToggleSwitch />\n            </Suspense>\n            <a href=\"https://www.apple.com/\">Забыл пароль</a>\n          </div>\n\n          <button\n            className=\"formAuth__buttonStyle\"\n            onClick={this.handleSubmit}\n            type=\"submit\"\n            disabled={\n              fields.password.length === 0 ||\n              fields.password.length < 5 ||\n              fields.mobile.length > 19 ||\n              (errors.password && fields.mobile.length === 0) ||\n              (fields.password.length > 0 && fields.mobile.length === 0)\n            }\n          >\n            ВОЙТИ\n          </button>\n        </form>\n      </>\n    );\n  }\n}\nexport default Form;\n"],"sourceRoot":""}